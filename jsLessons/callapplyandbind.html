<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.call(), .apply() and .bind()</title>
</head>
<body>
    
    <script>
        /*
        implicit binding
        explicit binding
        new binding
        window binding
        */
       console.log('-------implicit binding------')

       var printPlayerName = function(name){
        console.log(name);
       }
       printPlayerName('Javed Patterwary')

       //IMPLICIT BINDING EXAMPLE
       var rakib = {
        name:'Rakib',
        age:35,
        printPlayerName:()=>{
            console.log('Hello from the rakib object')
        }
       }

       rakib.printPlayerName();

       /*
       conclusion
       in order to understand which object is the method is referring to,
       we need to understand the concept of implicit binding,
       in case of printPlayerName() which is available as a standalone method 
       as well as an object. In order to pinpoint the reference of that specific
       method , we need to look at the left side of it
       */
      //More complex example
       var Person = function(name,age){

        return {
            name:name,
            age:age,
            printName:function(){
                console.log(this.name)
            }
        }
       }

       var kabib = Person('kabib',45);
       kabib.printName()

       console.log('-------explicit binding------')
       /*
       Helps to find ir attach and refer standalone functions in JS
       to an object
        */

        var printName= function(){
            console.log(this)//helps to find which object is it referring to
            console.log(this.name);
            console.log(`${this.name} is a ${v1}, ${v2} and ${v3}`)
        }

        var jamal = {
            name:"Jamal",
            age:45
        }

        var v1 = 'batsman';
        var v2 =  'cricker';
        var v3 = 'businessman';
        
        // call() method actually allows the standalone metho to get some context of this
        // this reference gets more clarify of what this keyword is referrring to 
        //which object
        // call(object,v1,v2,v3)
        //apply(Object,array)
        //function keyword functions needs explicit binding
        //apply and call does the same thing
        printName.call(jamal)

        // bind() 
        // it returns the function - but does not call the function immediately
        var newfunc = printName.bind(jamal,v1,v2,v3)
        newfunc()

        console.log('------window binding----------')
        /*
         for standalone functions this keyword would always refer to 
         window
        */
       var PrintName =function(){
        console.log(this)//window object
        console.log(this.name);//undefined
       }

       var jammy = {
        name:'Jamy sam'
       }

       PrintName();
    </script>
</body>
</html>