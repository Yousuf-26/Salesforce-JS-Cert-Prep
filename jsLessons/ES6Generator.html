<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES6 GENERATOR</title>
</head>
<body>
    
    <script>
        /*
        What is Generator?
        its an effient and easy to use version of Iterator
        */

        //HOW TO ITERATOR
        let names = ['Jam','Kam','Peru']
        let iterator = names[Symbol.iterator]();
        //PRINTS Jam {value: 'Jam', done: false}
        console.log(iterator.next())

        //GENERATOR SYNTAX
        /*
        function *generator(){

        }
        
        */

        //Example of generator()
        console.log('------ Example of generator() ---------------')
        function* generator2(){

            yield 1;
            yield 2;
            yield 3;
            yield 4;
        }

        let iteratorGen = generator2();
        console.log(iteratorGen.next());

        //HOW TO MAKE OBJECT ITERABLE
        let objectSample = {
            value1:1,
            value2:2,
            value3:3,
            value4:4
        }

        //HOW TO MAKE OBJECT ITERABLE
        Object.prototype[Symbol.iterator] = function(){
            const entries =Object.entries(this);
            let count = entries.length;
            let index = 0;
            return {

                next(){
                    if(count >0){
                        let result = {done:false, value: entries[index][1]};
                        count--;
                        index++;
                        return result;
                    }
                    return {done:true}
                }
            }
        }

        for(let element of objectSample){
            console.log(element)
        }

    </script>
</body>
</html>